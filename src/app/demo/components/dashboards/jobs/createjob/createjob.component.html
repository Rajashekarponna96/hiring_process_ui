<div class="grid">
    <div class="col-12">
        <div class="card">
            <h5>Create Job</h5>
            <form #jobForm="ngForm">
                <div class="p-fluid p-formgrid grid">
                    <div class="field col-12 md:col-6">
                        <label for="title">Title</label>
                        <input pInputText id="title" name="title" type="text" ngModel required minlength="2" maxlength="50" placeholder="Enter Title"
                        [(ngModel)]="job.title" required #title="ngModel"/>
                        <div *ngIf="title.invalid && (title.dirty || title.touched)">
                            <div style="color: red" *ngIf="title.errors">Title is required </div>
                        </div>

                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="description">Description</label>
                        <textarea pInputText id="description" name="description" type="text" ngModel required minlength="2" maxlength="100" placeholder="Enter Description"
                        [(ngModel)]="job.description" required #description="ngModel"></textarea>
                        <div *ngIf="description.invalid && (description.dirty || description.touched)">
                            <div style="color: red" *ngIf="description.errors">Description is required </div>
                        </div>
                    </div>
                    <!-- <div class="field col-12 md:col-6">
                        <label for="department">Department</label>
                        <p-dropdown id="department" name="department" [options]="departmentOptions" [(ngModel)]="selectedDepartments" [showClear]="true" [filter]="true" placeholder="Select Departments" [required]="true"
                        [(ngModel)]="job.department"  #department="ngModel">
                        </p-dropdown>
                        <div *ngIf="department.invalid && (department.dirty || department.touched)">
                            <div style="color: red" *ngIf="department.errors">Department is required </div>
                        </div>
                    </div> -->
                    <div class="field col-12 md:col-6">
                        <label for="department">Department</label>
                        <p-dropdown [options]="departments" [(ngModel)]="selectedDepartments" [showClear]="true" [filter]="true" placeholder="Select Department">
                            <ng-template let-Department pTemplate="item">
                                {{ Department.name }}
                            </ng-template>
                        </p-dropdown>
                    </div>
                    
                    <div class="field col-12 md:col-6">
                        <label for="openings">Openings</label>
                        <input pInputText id="openings" name="openings" type="number" ngModel required min="1" placeholder="Enter openings"
                        [(ngModel)]="job.openings"  #openings="ngModel">
                        <div *ngIf="openings.invalid && (openings.dirty || openings.touched)">
                            <div style="color: red" *ngIf="openings.errors">Openings is required </div>
                        </div>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="targetHireDate">Target Hire Date</label>
                        <input pInputText id="targetHireDate" name="targetHireDate" type="date" [(ngModel)]="job.targetHireDate"  #targetHireDate="ngModel" required>
                        <div *ngIf="targetHireDate.invalid && (targetHireDate.dirty || targetHireDate.touched)">
                            <div style="color: red" *ngIf="targetHireDate.errors">TargetHireDate is required </div>
                        </div>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="currency">Currency</label>
                        <p-dropdown id="currency" name="currency" [options]="currencyOptions" [(ngModel)]="selectedCurrency" [showClear]="true" [filter]="true" placeholder="Select Currencies" [required]="true">
                        </p-dropdown>
                        <div style="color: red;" *ngIf="jobForm.controls['currency'].invalid && (jobForm.controls['currency'].dirty || jobForm.controls['currency'].touched)">
                            <small class="text-danger">Currency is required.</small>
                        </div>
                    </div>
                    
                    
                    <div class="field col-12 md:col-6">
                        <label for="salaryMinimum">Salary Minimum</label>
                        <input pInputText id="salaryMinimum" name="salaryMinimum" type="number" required min="0" placeholder="Enter Min salary" [(ngModel)]="job.salaryMinimum"  #salaryMinimum="ngModel">
                        <div *ngIf="salaryMinimum.invalid && (salaryMinimum.dirty || salaryMinimum.touched)">
                            <div style="color: red" *ngIf="salaryMinimum.errors">Openings is required </div>
                        </div>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="salaryMaximum">Salary Maximun</label>
                        <input pInputText id="salaryMaximum" name="salaryMaximum" type="number" required min="0" placeholder="Enter Max salary" [(ngModel)]="job.salaryMaximum"  #salaryMaximum="ngModel">
                        <div *ngIf="salaryMaximum.invalid && (salaryMaximum.dirty || salaryMaximum.touched)">
                            <div style="color: red" *ngIf="salaryMaximum.errors">Openings is required </div>
                        </div>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="jobType">Job Type</label>
                        <p-dropdown [options]="jobTypeOptions" [(ngModel)]="selectedJobType" [placeholder]="'Select job type'" name="jobType" [required]="true"></p-dropdown>
                        <div style="color: red;" *ngIf="jobForm.controls['jobType'].invalid && (jobForm.controls['jobType'].dirty || jobForm.controls['jobType'].touched)">
                            <small class="text-danger">Job Type is required.</small>
                        </div>
                    </div>
                    
                    
                    <div class="field col-12 md:col-6">
                        <label for="location">Location</label>
                        <input pInputText id="location" name="location" type="text" ngModel placeholder="Enter Location" required>
                        <div style="color: red;" *ngIf="jobForm.controls['location'].invalid &&  (jobForm.controls['location'].dirty || jobForm.controls['location'].touched)">
                            <small class="text-danger">location is required.</small>
                     </div>
                    </div>    
                    <div class="field col-12 md:col-6">
                        <label for="flows">HiringFlow</label>
                        <input pInputText id="flows" name="flows" type="text"  placeholder="Enter HiringFlow" [(ngModel)]="job.flows"  #flows="ngModel" required>
                        <div  *ngIf="flows.invalid &&  (flows.dirty || flows.touched)">
                            <div style="color: red" *ngIf="flows.errors">HiringFlow is required </div>
                     </div>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="candidate">Candidate</label>
                        <input pInputText id="candidate" name="candidate" type="text" ngModel placeholder="Enter Candidate" required>
                        <div style="color: red;" *ngIf="jobForm.controls['candidate'].invalid && (jobForm.controls['candidate'].dirty || jobForm.controls['candidate'].touched)">
                            <small class="text-danger">Candidate is required.</small>
                        </div>
                    </div>
                    <div class="field col-12 md:col-6">
                        <label for="recruiter">Recruiter</label>
                        <input pInputText id="recruiter" name="recruiter" type="text" placeholder="Enter Recruiter" ngModel required>
                        <div style="color: red;" *ngIf="jobForm.controls['recruiter'].invalid && (jobForm.controls['recruiter'].dirty || jobForm.controls['recruiter'].touched)">
                            <small class="text-danger">Recruiter is required.</small>
                        </div>
                    </div>
                </div>
            
                <div class="ui-g-12" style="text-align: right">
                    <span class="w-full sm:w-20rem flex-order-1 sm:flex-order-0"></span>
                    <button style="margin-left: 10px" pButton class="w-auto mt-3" icon="pi pi-check"
                    (click)="addJob()" label="Save" [disabled]="jobForm.invalid"></button>
                    <button style="margin-left: 10px" pButton class="w-auto mt-3 p-button-danger" icon="pi pi-times"
                         label="Cancel"></button>
                </div>
            </form>
        </div>
    </div>
</div>
